.PATH: ${.CURDIR}

KMOD = vboxvideoexploit
SRCS = heapoffset.c HGSMIBase.c HGSMICommon.c HGSMIMemAlloc.c Modesetting.c VBVABase.c pwn.c
SRCS += device_if.h bus_if.h pci_if.h

CFLAGS += -Iinclude
CWARNFLAGS += -Wall -Wno-redundant-decls -Wno-declaration-after-statement
CFLAGS += -DIN_RING0 -DIN_RT_R0 -DIN_SUP_R0 -DVBOX -DVBOX_WITH_HGCM -DLOG_TO_BACKDOOR -DIN_MODULE -DIN_GUEST_R0
CFLAGS += -DRT_NO_EXPORT_SYMBOL
CFLAGS += --include include/VBox/VBoxGuestMangling.h

.include <bsd.kmod.mk>
.include <test.mk>
